%---------------------------------------------------------------------------%
%->> Frontmatter
%---------------------------------------------------------------------------%
%-
%-> 生成封面
%-
\maketitle% 生成中文封面
\MAKETITLE% 生成英文封面
%-
%-> 作者声明
%-
\makedeclaration% 生成声明页
%-
%-> 中文摘要
%-
\intobmk\chapter*{摘\quad 要}% 显示在书签但不显示在目录
\setcounter{page}{1}% 开始页码
\pagenumbering{Roman}% 页码符号

目前国产处理器的发展日益迅猛，而使用不同指令集的处理器之间生态互不兼容，阻碍了国产处理器的发展。
二进制翻译器是实现指令集兼容性的主要方法，但是现有的二进制翻译器仍然存在性能瓶颈。
为此，我们首先分析了二进制翻译器的性能瓶颈，发现了二进制翻译器的指令集语义差异和间接跳转开销是其主要瓶颈。
因此，我们提出了一种新型的二进制翻译框架——微译器。
微译器添加了融合微码来缩小指令集语义差异，并使用硬件翻译缓存来消除间接跳转开销，从而提升二进制翻译器性能。
我在微译器中添加了RISCV翻译支持，用于验证微译器对多架构支持的可行性。
同时本文继续优化了融合微码的编码设计和翻译缓存的边界条件设计，提高微译器的性能。

微译器通过运行SPEC CPU 2017、SPEC CPU 2000 和CoreMark程序，在Gem5模拟器中验证其对X86和RISCV多架构支持的有效性。
实验结果显示微译器在性能上取得显著的提升，均达到原生程序运行性能的90\%以上，
相对于多架构翻译器QEMU 20\%的性能，有数倍提升，这为解决指令集兼容问题提供了一种创新的解决方案。

\keywords{二进制翻译，多架构，软硬协同}% 中文关键词
%-
%-> 英文摘要
%-
\intobmk\chapter*{Abstract}% 显示在书签但不显示在目录

This article adds RISCV multi-architecture support to the existing new binary translation technology - micro-translator, aiming to solve the problem of instruction set fragmentation and performance bottlenecks between multi-architectures, and verify the micro-translator's ability to support multiple architectures. feasibility of support.
The microtranslator combines the concepts of traditional microcode caching and binary translation, and achieves the coexistence of multiple instruction sets by introducing translation caching and fused microcode at the hardware level, and using static and dynamic binary translators at the software level.
At the same time, this article continues to optimize the coding design of the integrated microcode and the boundary condition design of the translation cache to improve the performance of the microtranslator.
The micro-translator verifies its effectiveness in supporting X86 and RISCV multi-architecture in the Gem5 simulator by running SPEC CPU 2017, SPEC CPU 2000 and CoreMark programs.
Experimental results show that the performance and effect of the micro-translator have been significantly improved, reaching more than 90\% of the running performance of native programs.
Compared with the performance of the multi-architecture translator QEMU 20\%, the performance is improved several times, which provides an innovative solution to solve the problem of software and hardware collaboration in a multi-architecture environment.


\KEYWORDS{Binary translation, multi-architecture, software and hardware collaboration}% 英文关键词
%---------------------------------------------------------------------------%
